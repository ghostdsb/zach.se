---
date: 2011-08-07
title: Project Euler Problem 44 Solution
excerpt: This page presents solutions to Project Euler Problem 44 in Python and Ruby.
math: true
---


## Overview


### Question

<p>
Pentagonal numbers are generated by the formula, $P_n=\frac{n(3n−1)}{2}$. The first ten pentagonal numbers are:
</p>

$$1, 5, 12, 22, 35, 51, 70, 92, 117, 145, \dots$$

<p>
It can be seen that $P_4 + P_7 = 22 + 70 = 92 = P_8$. However, their difference, $70 − 22 = 48$, is not pentagonal.
</p>

<p>
Find the pair of pentagonal numbers, $P_j$ and $P_k$, for which their sum and difference is pentagonal and $D = |P_k − P_j|$ is minimised; what is the value of $D$?
</p>






## Solutions

### Python

```python
#!/usr/bin/env python
from itertools import *
from math import *
from operator import *

def pentagonal(n):
    return n*(3*n-1)/2

def main():
    pentagonals = set(pentagonal(n) for n in range(1, 3000))
    c = combinations(pentagonals, 2)
    for p in c:
        if add(*p) in pentagonals and abs(sub(*p)) in pentagonals:
            print abs(sub(*p))

if __name__ == "__main__":
    main()
```


```
$ time pypy pentagonal-nums.py
real	0m0.678s
user	0m0.563s
sys	0m0.019s
```



### Ruby

```ruby
#!/usr/bin/env ruby
require 'set'
pentagonals = (1..3000).map { |n| n*(3*n-1)/2 }.to_set
puts pentagonals.to_a.combination(2).select { |a,b|
	pentagonals.include?(a+b) && pentagonals.include?((a-b).abs)
}.map { |a,b| (a-b).abs }.min
```


```
$ time ruby pentagonal-nums.rb
real	0m2.039s
user	0m2.030s
sys	0m0.004s
```


